<html>

<head>
  <script src='bower_libs/jquery/dist/jquery.min.js'></script>
  <script src='bower_libs/vue/dist/vue.js'></script>
  <script src='bower_libs/vue-resource/dist/vue-resource.js'></script>
  <link href='bower_libs/bootstrap/dist/css/bootstrap.min.css' rel='stylesheet'>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js'></script>
  <script src='js/app.js' defer></script>

  <script>
    var socket = io();
    $(function() {
      //When page has loaded, register with the Socket.IO server, so that we receive updates in realtime.
      var socket = io();
      socket.on('robot-registered', function(robot) {
        //$('table tr:last').after('<tr><td>' + robot.name + '</td><td>' + robot.owner + '</td></tr>');
        console.log("ROBOT REGISTERED!");
      })
    });

  </script>
</head>

<body>
  <div id="app" class='container'>
    <h1>List of robots</h1>
    <div class='alert alert-info'>
      <i>List is initially loaded via REST API, then the list is updated in realtime using Socket.IO</i>
    </div>

    <table class='table table-striped table-hover'>
      <tr>
        <th>Name</th><th>Owner</th><th>Created</th><th></th>
      </tr>
      <tr v-for="robot in robots">
        <td>{{robot.name}}</td>
        <td>{{robot.owner}}</td>
        <td>{{robot.created}}</td>
        <td><button>Options</button></td>
      </tr>
    </table>
    <button v-on:click="reverseList" class='btn btn-default'>Reverse</button>
    <!-- <button v-on:click="loadRobots" class='btn btn-default'>Load robots</button> -->
  </div>
</body>
</html>
